name: box-revoke-session
description: Terminate all active sessions for a Box user

# Input parameters for web form generation
inputs:
  userId:
    type: text
    description: The Box user ID to revoke sessions for
    required: true
    validation:
      min: 1
      max: 100

  userLogin:
    type: email
    description: The Box user email/login to revoke sessions for
    required: true
    validation:
      min: 1
      max: 254

  address:
    type: text
    description: Box API base URL (e.g., https://api.box.com)
    required: false
    validation:
      min: 1
      max: 255

# Expected output structure
outputs:
  userId:
    type: text
    description: The Box user ID that was processed

  userLogin:
    type: text
    description: The Box user login/email that was processed

  sessionsTerminated:
    type: boolean
    description: Whether the sessions were successfully terminated

  terminatedAt:
    type: datetime
    description: When the termination completed (ISO 8601)

  message:
    type: text
    description: Response message from the Box API

# Secrets (configured at deployment time)
secrets:
  BEARER_AUTH_TOKEN:
    description: Box API Bearer token (for Bearer authentication)
    required: false

  BASIC_USERNAME:
    description: Username for Basic authentication
    required: false

  BASIC_PASSWORD:
    description: Password for Basic authentication
    required: false

  OAUTH2_CLIENT_CREDENTIALS_CLIENT_SECRET:
    description: Client secret for OAuth2 Client Credentials flow
    required: false

  OAUTH2_AUTHORIZATION_CODE_ACCESS_TOKEN:
    description: Access token for OAuth2 Authorization Code flow
    required: false

environment:
  ADDRESS:
    description: Box API base URL
    default: "https://api.box.com"

  OAUTH2_CLIENT_CREDENTIALS_CLIENT_ID:
    description: Client ID for OAuth2 Client Credentials flow
    required: false

  OAUTH2_CLIENT_CREDENTIALS_TOKEN_URL:
    description: Token endpoint URL for OAuth2 Client Credentials flow
    required: false

  OAUTH2_CLIENT_CREDENTIALS_SCOPE:
    description: OAuth2 scopes for Client Credentials flow
    required: false

  OAUTH2_CLIENT_CREDENTIALS_AUDIENCE:
    description: OAuth2 audience for Client Credentials flow
    required: false

  OAUTH2_CLIENT_CREDENTIALS_AUTH_STYLE:
    description: OAuth2 auth style for Client Credentials flow
    required: false

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi